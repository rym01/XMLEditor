
@{
    ViewBag.Title = "Edit";
}


@Styles.Render("~/bundles/xonomycss")


@section Scripts
{
    @Scripts.Render("~/bundles/xonomyjs")
    <script type="text/javascript">
        var sec = sessionStorage.getItem("file_name");
        var edited = false;
        $(window).on("beforeunload", function (e) {
            if (edited == false)
                return "Bye now!";
        });
        $(document).ready(function () {
            console.log(sessionStorage.getItem("file_name"));
            $.ajaxSetup({
                // Disable caching of AJAX responses
                cache: false
            });
            console.log(sec);
            $.get("../fichier_xml/" + sec, function start(data) {
                console.log(data);
                if (sec == "ELISE_COURRIERS_54.xml") {
                    var docSpec = {
                        onchange: function () {
                            console.log("I been changed now!")
                        }, //
                        validate: function (obj) {
                            console.log("I be validatin' now!")
                        }, //
                        elements: {
                            "MENU": {
                                menu: [{
                                    caption: "Add ID=\"MES_COURRIERS\"",
                                    action: Xonomy.newAttribute,
                                    actionParameter: { name: "ID", value: "" },
                                    hideIf: function (jsElement) {
                                        return jsElement.hasAttribute("ID");
                                    }
                                },
                                {
                                    caption: "Append a <FOLDERS>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<MENU ID=\"\">...</MENU>"
                                },
                                {
                                    caption: "Delete this <MENU>",
                                    action: Xonomy.deleteElement
                                }
                                ],
                                attributes: {
                                    "ID": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this ID",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    }
                                }
                            },
                            "FOLDERS": {
                                menu: [{
                                    caption: "Add DEFAULT_FOLDER=\"FOLDER_NOUVEAU\"",
                                    action: Xonomy.newAttribute,
                                    actionParameter: { name: "DEFAULT_FOLDER", value: "" },
                                    hideIf: function (jsElement) {
                                        return jsElement.hasAttribute("DEFAULT_FOLDER");
                                    }
                                },
                                {
                                    caption: "Append a <FOLDER>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<FOLDERS DEFAULT_FOLDER=\"\">...<FOLDERS>"
                                },
                                {
                                    caption: "Delete this <FOLDERS>",
                                    action: Xonomy.deleteElement
                                },
                                {
                                    caption: "New <FOLDERS> before this",
                                    action: Xonomy.newElementBefore,
                                    actionParameter: "<FOLDERS>...</FOLDERS>"
                                },
                                {
                                    caption: "New <FOLDERS> after this",
                                    action: Xonomy.newElementBefore,
                                    actionParameter: "<FOLDERS>...</FOLDERS>"
                                },
                                ],
                                attributes: {
                                    "DEFAULT_FOLDER": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this label",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    }
                                }

                            },

                            "FOLDER": {
                                menu: [
                                    {
                                        caption: "Append a <RIGHT>",
                                        action: Xonomy.newElementChild,
                                        actionParameter: "<RIGHT/>"

                                    },
                                    {
                                        caption: "Append a <LABEL>",
                                        action: Xonomy.newElementChild,
                                        actionParameter: "<LABEL>...</LABEL>"
                                    },
                                    {
                                        caption: "Append a <DESCRIPTION>",
                                        action: Xonomy.newElementChild,
                                        actionParameter: "<DESCRIPTION>...</DESCRIPTION>"
                                    },
                                    {
                                        caption: "Append a <ICON>",
                                        action: Xonomy.newElementChild,
                                        actionParameter: "<ICON>...</ICON>"
                                    },
                                    {
                                        caption: "Append a <ICONVISUEL>",
                                        action: Xonomy.newElementChild,
                                        actionParameter: "<ICONVISUEL>...</ICONVISUEL>"
                                    },
                                    {
                                        caption: "Append a <XMLSEARCH>",
                                        action: Xonomy.newElementChild,
                                        actionParameter: "<XMLSEARCH TYPE=\"\" >...</XMLSEARCH>"
                                    },

                                    {
                                        caption: "Append a <LISTDISPLAYCANVAS>",
                                        action: Xonomy.newElementChild,
                                        actionParameter: "<LISTDISPLAYCANVAS>...</LISTDISPLAYCANVAS>"
                                    },
                                    {
                                        caption: "Append a <ADDON>",
                                        action: Xonomy.newElementChild,
                                        actionParameter: "<ADDON>...</ADDONS>"
                                    },
                                    {
                                        caption: "Delete this <FOLDER>",
                                        action: Xonomy.deleteElement
                                    },
                                    {
                                        caption: "New <FOLDER> before this",
                                        action: Xonomy.newElementBefore,
                                        actionParameter: "<FOLDER>...</FOLDER>"
                                    },
                                    {
                                        caption: "New <FOLDER> after this",
                                        action: Xonomy.newElementBefore,
                                        actionParameter: "<FOLDER>...</FOLDER>"


                                    },
                                    {
                                        caption: "Add SCOPE=\"ALL\"",
                                        action: Xonomy.newAttribute,
                                        actionParameter: { name: "SCOPE", value: "" },
                                        hideIf: function (jsElement) {
                                            return jsElement.hasAttribute("SCOPE");
                                        }
                                    },
                                    {
                                        caption: "Add ID=\"\"",
                                        action: Xonomy.newAttribute,
                                        actionParameter: { name: "ID", value: "" },
                                        hideIf: function (jsElement) {
                                            return jsElement.hasAttribute("ID");
                                        }
                                    },
                                    {
                                        caption: "Add SHOWNUMBER=\"\"",
                                        action: Xonomy.newAttribute,
                                        actionParameter: { name: "SHOWNUMBER", value: "" },
                                        hideIf: function (jsElement) {
                                            return jsElement.hasAttribute("SHOWNUMBER");
                                        }
                                    },
                                    {
                                        caption: "Add POSITION=\"\"",
                                        action: Xonomy.newAttribute,
                                        actionParameter: { name: "POSITION", value: "" },
                                        hideIf: function (jsElement) {
                                            return jsElement.hasAttribute("POSITION");
                                        }
                                    },
                                    {
                                        caption: "Add CLOSED=\"\"",
                                        action: Xonomy.newAttribute,
                                        actionParameter: { name: "CLOSED", value: "" },
                                        hideIf: function (jsElement) {
                                            return jsElement.hasAttribute("CLOSED");
                                        }
                                    },
                                    {
                                        caption: "TYPE=\"\"",
                                        action: Xonomy.newAttribute,
                                        actionParameter: { name: "TYPE", value: "" },
                                        hideIf: function (jsElement) {
                                            return jsElement.hasAttribute("TYPE");
                                        }
                                    },
                                    {
                                        caption: "WML=\"\"",
                                        action: Xonomy.newAttribute,
                                        actionParameter: { name: "WML", value: "" },
                                        hideIf: function (jsElement) {
                                            return jsElement.hasAttribute("WML");
                                        }
                                    }],
                                attributes: {
                                    "SCOPE": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this SCOPE",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    },


                                    "ID": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this ID",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    },

                                    "SHOWNUMBER": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this SHOWNUMBER",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    },

                                    "POSITION": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this POSITION",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    },

                                    "CLOSED": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this CLOSED",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    },

                                    "TYPE": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this TYPE",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    },

                                    "WML": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this WML",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    }
                                }
                            },
                            "LABEL": {
                                menu: [{
                                    caption: "Delete this <LABEL>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["FOLDER"],
                            },

                            "DESCRIPTION": {
                                menu: [{
                                    caption: "Delete this <DESCRIPTION>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["FOLDER"],
                            },

                            "ICON": {
                                menu: [{
                                    caption: "Delete this <ICON>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["FOLDER"],
                            },

                            "ICONVISUEL": {
                                menu: [{
                                    caption: "Delete this <ICONVISUEL>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["FOLDER"],
                            },

                            "XMLSEARCH": {
                                menu: [
                                    {
                                        caption: "Add TYPE=\"\"",
                                        action: Xonomy.newAttribute,
                                        actionParameter: { name: "TYPE", value: "" },
                                        hideIf: function (jsElement) {
                                            return jsElement.hasAttribute("TYPE");
                                        }
                                    },
                                    {
                                        caption: "Delete this <XMLSEARCH>",
                                        action: Xonomy.deleteElement
                                    }],
                                canDropTo: ["FOLDER"],
                                attributes: {
                                    "TYPE": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this TYPE",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    }
                                }
                            },

                            "LISTDISPLAYCANVAS": {
                                menu: [{
                                    caption: "Delete this <LISTDISPLAYCANVAS>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["FOLDER"],
                            },

                            "ADDON": {
                                menu: [{
                                    caption: "Delete this <ADDON>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["FOLDER"],
                            },
                        }
                    }
                    var editor = document.getElementById("editor");
                    Xonomy.render(data, editor, docSpec);
                }
                else {
                    var docSpec = {
                        onchange: function () {
                            console.log("I been changed now!")
                        },
                        validate: function (obj) {
                            console.log("I be validatin' now!")
                        },
                        elements: {
                            "configuration": {
                                menu: [{
                                    caption: "Append a <config>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<config name=\"\">...</config>"
                                }],
                                onchange: function () {
                                    console.log("I been changed now!")
                                },
                                validate: function (obj) {
                                    console.log("I be validatin' now!")
                                }
                            },
                            "config": {
                                menu: [{
                                    caption: "Append a <property/>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<property source=\"\" target=\"\" />"
                                }, {
                                    caption: "Append a <property>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<property source=\"\" target=\"\">...</property>"
                                }
                                    , {
                                    caption: "Append a <config>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<config>...</config>"
                                }, {
                                    caption: "Append a <filter>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<filter>...</filter>"
                                }, {
                                    caption: "Delete this <config>",
                                    action: Xonomy.deleteElement
                                }, {
                                    caption: "New <config> before this",
                                    action: Xonomy.newElementBefore,
                                    actionParameter: "<config name=\"\">...</config>"
                                }, {
                                    caption: "New <config> after this",
                                    action: Xonomy.newElementAfter,
                                    actionParameter: "<config name=\"\">...</config>"
                                }, {
                                    caption: "Add name=\"\"",
                                    action: Xonomy.newAttribute,
                                    actionParameter: { name: "name", value: "" },
                                    hideIf: function (jsElement) {
                                        return jsElement.hasAttribute("name");
                                    }
                                }],
                                canDropTo: ["configuration"],
                                attributes: {
                                    "name": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this name",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    }
                                }
                            },
                            "filters": {
                                menu: [{
                                    caption: "Append a <property>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<property source=\"\">...</property>"
                                }, {
                                    caption: "Delete this <filters>",
                                    action: Xonomy.deleteElement
                                }, {
                                    caption: "New <filter> before this",
                                    action: Xonomy.newElementBefore,
                                    actionParameter: "<filters>...</filters>"
                                }, {
                                    caption: "New <filter> after this",
                                    action: Xonomy.newElementAfter,
                                    actionParameter: "<filters>...</filters>"
                                }, {
                                    caption: "New <property> before this",
                                    action: Xonomy.newElementBefore,
                                    actionParameter: "<property source=\"\" target=\"\">...</property>"
                                }, {
                                    caption: "New <property> after this",
                                    action: Xonomy.newElementAfter,
                                    actionParameter: "<property source=\"\" target=\"\">...</property>"
                                }, {
                                    caption: "New <config> before this",
                                    action: Xonomy.newElementBefore,
                                    actionParameter: "<config>...</config>"
                                }, {
                                    caption: "New <config> after this",
                                    action: Xonomy.newElementAfter,
                                    actionParameter: "<config>...</config>"
                                }],
                                canDropTo: ["config"],
                            },
                            "property": {
                                menu: [{
                                    caption: "Append a <source>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<source>...</source>"
                                }, {
                                    caption: "Append a <map>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<map>...</map>"
                                }, {
                                    caption: "Append a <map/>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<map defaultItemType=\"\"/>"
                                }, {
                                    caption: "Append a <predicates>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<predicates>...</predicates>"
                                }, {
                                    caption: "Append a <target>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<target>...</target>"
                                }, {
                                    caption: "Delete this <property>",
                                    action: Xonomy.deleteElement
                                }, {
                                    caption: "Add source=\"\"",
                                    action: Xonomy.newAttribute,
                                    actionParameter: { name: "source", value: "" },
                                    hideIf: function (jsElement) {
                                        return jsElement.hasAttribute("source");
                                    }
                                }, {
                                    caption: "Add target=\"\"",
                                    action: Xonomy.newAttribute,
                                    actionParameter: { name: "target", value: "" },
                                    hideIf: function (jsElement) {
                                        return jsElement.hasAttribute("target");
                                    }
                                }, {
                                    caption: "Add defaultSource=\"\"",
                                    action: Xonomy.newAttribute,
                                    actionParameter: { name: "defaultSource", value: "" },
                                    hideIf: function (jsElement) {
                                        return jsElement.hasAttribute("defaultSource");
                                    }
                                }, {
                                    caption: "New <property> before this",
                                    action: Xonomy.newElementBefore,
                                    actionParameter: "<property source=\"\" target=\"\">...</property>"
                                }, {
                                    caption: "New <property> after this",
                                    action: Xonomy.newElementAfter,
                                    actionParameter: "<property source=\"\" target=\"\">...</property>"
                                }],
                                canDropTo: ["config", "filters"],
                                attributes: {
                                    "source": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this source",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    },
                                    "target": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this target",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    },
                                    "defaultSource": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this defaultSource",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    }
                                }
                            },
                            "source": {
                                menu: [{
                                    caption: "Append a <regex>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<regex>...</regex>"
                                }, {
                                    caption: "Append a <format>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<format>...</format>"
                                }, {
                                    caption: "Append a <currency>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<currency>...</currency>"
                                }, {
                                    caption: "Append a <decimalSeparator>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<decimalSeparator>...</decimalSeparator>"
                                }, {
                                    caption: "Append a <groupSeparator>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<groupSeparator>...</groupSeparator>"
                                }, {
                                    caption: "Delete this <source>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["property"],
                            },
                            "regex": {
                                menu: [{
                                    caption: "Delete this <regex>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["source"],
                            },
                            "format": {
                                menu: [{
                                    caption: "Delete this <format>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["source", "target"],
                            },
                            "currency": {
                                menu: [{
                                    caption: "Delete this <currency>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["source"],
                            },
                            "decimalSeparator": {
                                menu: [{
                                    caption: "Delete this <decimalSeparator>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["source"],
                            },
                            "groupSeparator": {
                                menu: [{
                                    caption: "Delete this <groupSeparator>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["source"],
                            },
                            "target": {
                                menu: [{
                                    caption: "Append a <format>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<format>...</format>"
                                }, {
                                    caption: "Delete this <target>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["property"],
                            },
                            "map": {
                                menu: [{
                                    caption: "Append an <add>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<add key=\"\" value=\"\"/>"
                                }, {
                                    caption: "Append a <ldapAttribute>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<ldapAttribute>...</ldapAttribute>"
                                }, {
                                    caption: "Append a <useMainService>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<useMainService>...</useMainService>"
                                }, {
                                    caption: "Append a <type>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<type>...</type>"
                                }, {
                                    caption: "Append a <addressBook>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<addressBook>...</addressBook>"
                                }, {
                                    caption: "Append a <idExtraPropertyName />",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<idExtraPropertyName/>"
                                }, {
                                    caption: "Append a <sort>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<sort>...</sort>"
                                }, {
                                    caption: "Delete this <map>",
                                    action: Xonomy.deleteElement
                                }, {
                                    caption: "Add defaultItemType=\"\"",
                                    action: Xonomy.newAttribute,
                                    actionParameter: { name: "defaultItemType", value: "" },
                                    hideIf: function (jsElement) {
                                        return jsElement.hasAttribute("map");
                                    }
                                }, {
                                    caption: "Add type=\"\"",
                                    action: Xonomy.newAttribute,
                                    actionParameter: { name: "type", value: "" },
                                    hideIf: function (jsElement) {
                                        return jsElement.hasAttribute("map");
                                    }
                                }, {
                                    caption: "Add key=\"\"",
                                    action: Xonomy.newAttribute,
                                    actionParameter: { name: "key", value: "" },
                                    hideIf: function (jsElement) {
                                        return jsElement.hasAttribute("map");
                                    }
                                }, {
                                    caption: "Add value=\"\"",
                                    action: Xonomy.newAttribute,
                                    actionParameter: { name: "value", value: "" },
                                    hideIf: function (jsElement) {
                                        return jsElement.hasAttribute("map");
                                    }
                                }],
                                canDropTo: ["property"],
                                attributes: {
                                    "defaultItemType": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this key",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    }
                                }
                            },
                            "add": {
                                menu: [{
                                    caption: "Delete this <add>",
                                    action: Xonomy.deleteElement
                                }, {
                                    caption: "Add type=\"\"",
                                    action: Xonomy.newAttribute,
                                    actionParameter: { name: "type", value: "" },
                                    hideIf: function (jsElement) {
                                        return jsElement.hasAttribute("add");
                                    }
                                }, {
                                    caption: "Add key=\"\"",
                                    action: Xonomy.newAttribute,
                                    actionParameter: { name: "key", value: "" },
                                    hideIf: function (jsElement) {
                                        return jsElement.hasAttribute("add");
                                    }
                                }, {
                                    caption: "Add value=\"\"",
                                    action: Xonomy.newAttribute,
                                    actionParameter: { name: "value", value: "" },
                                    hideIf: function (jsElement) {
                                        return jsElement.hasAttribute("add");
                                    }
                                }],
                                canDropTo: ["map"],
                                attributes: {
                                    "key": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this key",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    },
                                    "value": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this value",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    },
                                    "type": {
                                        asker: Xonomy.askString,
                                        menu: [{
                                            caption: "Delete this type",
                                            action: Xonomy.deleteAttribute
                                        }]
                                    }
                                }
                            },
                            "ldapAttribute": {
                                menu: [{
                                    caption: "Delete this <ldapAttribute>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["map"]
                            },
                            "useMainService": {
                                menu: [{
                                    caption: "Delete this <useMainService>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["map"]
                            },
                            "type": {
                                menu: [{
                                    caption: "Delete this <type>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["map"]
                            },
                            "addressBook": {
                                menu: [{
                                    caption: "Delete this <addressBook>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["map"]
                            },
                            "idExtraPropertyName": {
                                menu: [{
                                    caption: "Delete this <idExtraPropertyName>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["map"]
                            },
                            "sort": {
                                menu: [{
                                    caption: "Append an <id>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<id>...</id>"
                                }, {
                                    caption: "Append a <set>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<set>...</set>"
                                }, {
                                    caption: "Append a <form>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<form>...</form>"
                                }, {
                                    caption: "Append a <key>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<key>...</key>"
                                }, {
                                    caption: "Delete this <sort>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["map"]
                            },
                            "id": {
                                menu: [{
                                    caption: "Delete this <id>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["sort"]
                            },
                            "set": {
                                menu: [{
                                    caption: "Delete this <set>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["sort"]
                            },
                            "form": {
                                menu: [{
                                    caption: "Delete this <form>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["sort"]
                            },
                            "key": {
                                menu: [{
                                    caption: "Delete this <key>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["sort"]
                            },
                            "predicates": {
                                menu: [{
                                    caption: "Append an <equals>",
                                    action: Xonomy.newElementChild,
                                    actionParameter: "<equals>...</equals>"
                                }, {
                                    caption: "Delete this <predicates>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["property"]
                            },
                            "equals": {
                                menu: [{
                                    caption: "Delete this <equals>",
                                    action: Xonomy.deleteElement
                                }],
                                canDropTo: ["predicates"]
                            },
                        }
                    };
                    var editor = document.getElementById("editor");
                    Xonomy.render(data, editor, docSpec);
                }
            }, "xml")
        });

        $("button").click(function () {
            edited = true;
            var xml = Xonomy.harvest();
            $.ajax({
                type: 'POST',
                url: '/Home/Submit',
                data: { xml_data: xml },
                success: function (response) {
                    alert("succès");
                    window.location.href = "/Home/AfficheComparaison";
                }, error: function (e) {
                    console.log(e.responseText);
                    alert("erreur " + e.responseText);
                }
            })
        });
    </script>
}
@section css
{
    @Styles.Render("~/bundles/xonomycss", "~/bundles/homecss")
    <style>

        #editor {
            overflow: scroll;
            overflow-x: auto;
            overflow-y: auto;
            font-size: 17px;
            width: 900px;
            height: 500px;
            position: relative;
            left: 100px;
            background: #E0FFFF;
            margin: 10px auto;
            border: solid #808080 1.5px;
            border-radius: 10px;
        }
    </style>
}
<h2>Modification</h2>
<div style="font-size:larger">
    <p>
        Vous désirez effectuer quelques changements? Ci-dessous vous aurez la chance de le faire!
        <br />
        Qu'est-ce que vous attendez ?
        <br />
        A l'attaque!
    </p>
</div>
<br />
<div class="row">
    <div class="col-lg-4" id="editor"></div>
</div>
<div class="row">
    <div class="col-lg-10">
        <button class="btn valider" type="submit" style=" float:right">Modifier</button>
    </div>
    <br />
</div>

